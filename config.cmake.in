# - Config file for the AVSim package

@PACKAGE_INIT@

set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} @PACKAGE_INSTALL_CMAKE_FINDS@)

function(_add_config_dependency DepName DepDir DepComponents DepVersion DepFound)
   if (DepFound)
    if (DepDir) 
        FIND_PACKAGE(${DepName} ${DepVersion} REQUIRED COMPONENTS ${DepComponents} PATHS ${DepDir} NO_DEFAULT_PATH) 
    else()
        FIND_PACKAGE(${DepName} ${DepVersion} REQUIRED COMPONENTS ${DepComponents})
    endif()
   endif() 
endfunction()
if (@Ani3d_FOUND@ OR @Ani3d_DOWNLOADED@)
    if (@Ani3d_DOWNLOADED@)
        set(ANI3DDIR @LIB_DOWNLOAD_PATH@/Ani3d)
    else()
        get_filename_component(ANI3DDIR @Ani3d_AFT_INCLUDE_DIR@ DIRECTORY)
    endif()
    set(Ani3d_DIR "@CMAKE_SOURCE_DIR@/cmake/")
    _add_config_dependency("Ani3d" "" "Ani3d::FRTPRM" "" "TRUE")
endif()    
_add_config_dependency("Eigen3" "@Eigen3_DIR@" "Eigen3::Eigen" "" "@Eigen3_FOUND@")
if (@casadi_DOWNLOADED@)
    set(casadi_DIR @LIB_DOWNLOAD_PATH@/casadi/install/lib/cmake/casadi)
elseif(@casadi_FOUND@)
    set(casadi_DIR @casadi_DIR@)
endif()
FIND_PACKAGE(casadi REQUIRED)
if (@rpoly_FOUND@ OR @rpoly_DOWNLOADED@)
    if (@rpoly_DOWNLOADED@)
        set(RPOLYDIR @LIB_DOWNLOAD_PATH@/RpolyPlusPlus/install)
    else()
        get_filename_component(RPOLYDIR @rpoly_INCLUDE_DIR@ DIRECTORY)
    endif()
    _add_config_dependency("rpoly" "" "" "" "TRUE" )
endif()
_add_config_dependency("GSL" "@GSL_DIR@" "" "" "@GSL_FOUND@")
set(CGAL_DO_NOT_WARN_ABOUT_CMAKE_BUILD_TYPE TRUE)
_add_config_dependency("CGAL" "@CGAL_DIR@" "" "5.3" "@CGAL_FOUND@")
_add_config_dependency("Bullet" "@Bullet_DIR@" "BulletCollision LinearMath" "" "@Bullet_FOUND@")
_add_config_dependency("nlohmann_json" "@nlohmann_json_DIR@" "" "3.2.0" "@nlohmann_json_FOUND@")
#_add_config_dependency("Boost" "@Boost_DIR@" "serialization" "1.70.0" "@Boost_FOUND@")
if (@Boost_FOUND@)
    if ("@Boost_DIR@")
        FIND_PACKAGE(Boost 1.70.0 COMPONENTS serialization filesystem program_options REQUIRED PATHS "@Boost_DIR@" NO_DEFAULT_PATH)
    else()
        FIND_PACKAGE(Boost 1.70.0 COMPONENTS serialization filesystem program_options REQUIRED)
    endif()
endif()
_add_config_dependency("SUNDIALS" "@SUNDIALS_DIR@" "kinsol" "" "@SUNDIALS_FOUND@")
_add_config_dependency("inmost" "@INMOST_DIR@" "" "" "@INMOST_FOUND@")
_add_config_dependency("Corrade" "@Corrade_DIR@" "Main" "" "@Corrade_FOUND@")
_add_config_dependency("Magnum" "@Magnum_DIR@" "GL MeshTools Shaders Primitives SceneGraph Trade Sdl2Application" "" "@Magnum_FOUND@")
_add_config_dependency("MagnumIntegration" "@MagnumIntegration_DIR@" "ImGui" "" "@MagnumIntegration_FOUND@")

include ( "${CMAKE_CURRENT_LIST_DIR}/@package_NAME@-targets.cmake" )

check_required_components(@package_NAME@)